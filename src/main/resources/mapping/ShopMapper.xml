<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bgs.aoyoback.dao.ShopMapper">

    <resultMap id="duo" type="SysGroup">
        <id column="GROUP_ID" property="groupId" />
        <result column="GROUP_LEVEL" property="groupLevel" />
        <result column="GROUP_STATUS" property="groupStatus" />
        <result column="GROUP_NAME" property="groupName" />
        <result column="GROUP_ADDRESS" property="groupAddress" />
        <result column="GROUP_IMG" property="groupImg" />

        <result column="group_address_details" property="groupAddressDetails" />
        <!--<collection property="SysGroupAddress" ofType="SysGroupAddress">
            <id column="group_address_id" property="groupAddressId" />
            <result column="group_address_details" property="groupAddressDetails" />
        </collection>-->

        <collection property="AoyoGroupComment" ofType="AoyoGroupComment">
            <id column="group_comment_id" property="groupCommentId" />
            <result column="commodity_id" property="commodityId" />
            <result column="pingfen" property="pingfen" />
        </collection>
    </resultMap>

    <!--List<SysGroup> getStoreList();-->
    <select id="getStoreList" resultMap="duo">
    SELECT
	sg.*,sga.group_address_details,agc.pingfen
FROM
	sys_group sg
	LEFT JOIN sys_group_address sga ON sg.GROUP_ADDRESS = sga.group_address_id
	LEFT JOIN aoyo_group_comment agc on sg.GROUP_ID=agc.commodity_id
	where sg.GROUP_LEVEL is null

    </select>


</mapper>